# λ‹΄λ‹Ήμ B - λ°±μ—”λ“ κ°λ° Task λ¦¬μ¤νΈ (24μ‹κ°„ ν•΄μ»¤ν†¤)

## μ „μ²΄ κ°λ° μΌμ • (24μ‹κ°„)

### Phase 1: ν”„λ΅μ νΈ μ„¤μ • (0-2μ‹κ°„)
### Phase 2: λ°μ΄ν„° λ¨λΈ λ° μ„λΉ„μ¤ (2-6μ‹κ°„)  
### Phase 3: API ν•Έλ“¤λ¬ κµ¬ν„ (6-12μ‹κ°„)
### Phase 4: ν†µν•© λ° μµμ ν™” (12-18μ‹κ°„)
### Phase 5: ν…μ¤νΈ λ° λ°°ν¬ μ¤€λΉ„ (18-24μ‹κ°„)

---

## Phase 1: ν”„λ΅μ νΈ μ„¤μ • λ° κΈ°λ³Έ κµ¬μ΅° (0-2μ‹κ°„)

### Task 1.1: ν”„λ΅μ νΈ μ΄κΈ°ν™” (30λ¶„)
- [ ] uv ν”„λ΅μ νΈ μ΄κΈ°ν™”
```bash
cd /Users/suin/Desktop/team13-aws-hackathon
uv init --name liveinsight-backend
```
- [ ] pyproject.toml μ„¤μ • ν™•μΈ λ° μμ •
- [ ] ν•„μ ν¨ν‚¤μ§€ μ„¤μΉ:
```bash
uv add fastapi mangum boto3 pydantic python-multipart
uv add --dev pytest pytest-asyncio black isort mypy
```

### Task 1.2: λ””λ ‰ν† λ¦¬ κµ¬μ΅° μƒμ„± (30λ¶„)
- [ ] `src/` λ””λ ‰ν† λ¦¬ λ° ν•μ„ κµ¬μ΅° μƒμ„±
```bash
mkdir -p src/{handlers,models,services,utils}
touch src/{__init__.py,main.py}
touch src/handlers/{__init__.py,event_collector.py,realtime_api.py,stats_api.py}
touch src/models/{__init__.py,events.py,sessions.py}
touch src/services/{__init__.py,dynamodb.py,analytics.py}
touch src/utils/{__init__.py,response.py,validation.py}
```

### Task 1.3: κΈ°λ³Έ FastAPI μ•± μ„¤μ • (60λ¶„)
- [ ] `src/main.py` - λ©”μΈ FastAPI μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ΅°
- [ ] CORS μ„¤μ • λ° κΈ°λ³Έ λ―Έλ“¤μ›¨μ–΄
- [ ] ν™κ²½λ³€μ μ²λ¦¬ λ΅μ§
- [ ] Mangum ν•Έλ“¤λ¬ μ„¤μ •

---

## Phase 2: λ°μ΄ν„° λ¨λΈ λ° μ„λΉ„μ¤ (2-6μ‹κ°„)

### Task 2.1: Pydantic λ¨λΈ μ •μ (90λ¶„)
- [ ] `src/models/events.py` - Event, EventBatch λ¨λΈ
  - session_id, timestamp, event_type, page_url ν•„λ“
  - Pydantic κ²€μ¦ κ·μΉ™ (Field μ‚¬μ©)
  - TTL μλ™ μ„¤μ • λ΅μ§
- [ ] `src/models/sessions.py` - Session λ¨λΈ
  - session_id, start_time, last_activity, is_active ν•„λ“
  - update_activity(), is_expired() λ©”μ„λ“
- [ ] `src/models/__init__.py` - λ¨λΈ export

### Task 2.2: DynamoDB μ„λΉ„μ¤ κµ¬ν„ (120λ¶„)
- [ ] `src/services/dynamodb.py` - DynamoDB ν΄λΌμ΄μ–ΈνΈ μ„¤μ •
  - κΈ€λ΅λ² λ³€μλ΅ μ—°κ²° μ¬μ‚¬μ© (μ½λ“ μ¤νƒ€νΈ μµμ ν™”)
  - Events ν…μ΄λΈ” CRUD ν•¨μ
  - Sessions ν…μ΄λΈ” CRUD ν•¨μ
  - λ°°μΉ μ“°κΈ° ν•¨μ (batch_writer μ‚¬μ©)
  - μ—λ¬ μ²λ¦¬ (ClientError, ValidationError)

### Task 2.3: μ ν‹Έλ¦¬ν‹° ν•¨μ κµ¬ν„ (60λ¶„)
- [ ] `src/utils/response.py` - HTTP μ‘λ‹µ ν—¬νΌ
  - success_response(), error_response() ν•¨μ
  - ν‘μ¤€ μ‘λ‹µ ν•μ‹ κµ¬ν„
- [ ] `src/utils/validation.py` - λ°μ΄ν„° κ²€μ¦ ν•¨μ
  - API Key κ²€μ¦
  - μ„Έμ… ID ν•μ‹ κ²€μ¦
  - URL κ²€μ¦ ν•¨μ

---

## Phase 3: API ν•Έλ“¤λ¬ κµ¬ν„ (6-12μ‹κ°„)

### Task 3.1: μ΄λ²¤νΈ μμ§‘ API (150λ¶„)
- [ ] `src/handlers/event_collector.py` κµ¬ν„
  - POST /api/events μ—”λ“ν¬μΈνΈ
  - EventBatch λ¨λΈ μ‚¬μ©ν• μ”μ²­ κ²€μ¦
  - API Key μΈμ¦ λ―Έλ“¤μ›¨μ–΄
  - μ΄λ²¤νΈ λ°°μΉ μ²λ¦¬ λ΅μ§ (μµλ€ 100κ°)
  - μ„Έμ… μƒμ„±/μ—…λ°μ΄νΈ λ΅μ§
  - DynamoDB λ°°μΉ μ“°κΈ°
  - μ—λ¬ μ²λ¦¬ λ° λ΅κΉ…

### Task 3.2: μ‹¤μ‹κ°„ λ°μ΄ν„° API (120λ¶„)
- [ ] `src/services/analytics.py` - λ¶„μ„ λ΅μ§ κµ¬ν„
  - get_active_sessions() - ν™μ„± μ„Έμ… μ΅°ν
  - get_recent_events() - μµκ·Ό 5λ¶„ μ΄λ²¤νΈ
  - aggregate_current_pages() - νμ΄μ§€λ³„ λ°©λ¬Έμ μ§‘κ³„
- [ ] `src/handlers/realtime_api.py` κµ¬ν„
  - GET /api/realtime μ—”λ“ν¬μΈνΈ
  - JSON/HTML μ‘λ‹µ ν•μ‹ μ§€μ› (Accept ν—¤λ” κΈ°λ°)
  - 3μ΄ μΊμ‹ κµ¬ν„
  - μ‹¤μ‹κ°„ ν†µκ³„ κ³„μ‚°

### Task 3.3: ν†µκ³„ λ°μ΄ν„° API (120λ¶„)
- [ ] `src/services/analytics.py` - ν†µκ³„ λ΅μ§ μ¶”κ°€
  - get_hourly_stats() - μ‹κ°„λ€λ³„ ν†µκ³„
  - get_top_pages() - μΈκΈ° νμ΄μ§€ μμ„
  - calculate_summary() - μ”μ•½ ν†µκ³„
- [ ] `src/handlers/stats_api.py` κµ¬ν„
  - GET /api/stats μ—”λ“ν¬μΈνΈ
  - μΏΌλ¦¬ νλΌλ―Έν„° μ²λ¦¬ (period, limit)
  - Chart.js νΈν™ λ°μ΄ν„° ν•μ‹
  - 30μ΄ μΊμ‹ κµ¬ν„

---

## Phase 4: ν†µν•© λ° μµμ ν™” (12-18μ‹κ°„)

### Task 4.1: FastAPI μ•± ν†µν•© (90λ¶„)
- [ ] `src/main.py` - λ¨λ“  λΌμ°ν„° λ“±λ΅
  - μ΄λ²¤νΈ μμ§‘, μ‹¤μ‹κ°„, ν†µκ³„ λΌμ°ν„° μ¶”κ°€
  - μ „μ—­ μμ™Έ μ²λ¦¬κΈ°
  - λ΅κΉ… λ―Έλ“¤μ›¨μ–΄
  - ν—¬μ¤μ²΄ν¬ μ—”λ“ν¬μΈνΈ (/health)

### Task 4.2: μ„±λ¥ μµμ ν™” (120λ¶„)
- [ ] DynamoDB μΏΌλ¦¬ μµμ ν™”
  - GSI ν™μ©ν• ν¨μ¨μ  μΏΌλ¦¬
  - λ°°μΉ μ²λ¦¬ ν¬κΈ° μ΅°μ •
  - λ¶ν•„μ”ν• μ†μ„± μ μ™Έ (ProjectionExpression)
- [ ] Lambda λ©”λ¨λ¦¬ λ° νƒ€μ„μ•„μ›ƒ μµμ ν™”
- [ ] μ‘λ‹µ μ••μ¶• λ° μΊμ‹± κµ¬ν„

### Task 4.3: μ—λ¬ μ²λ¦¬ κ°•ν™” (90λ¶„)
- [ ] μ „μ—­ μμ™Έ μ²λ¦¬κΈ° κµ¬ν„
- [ ] μƒμ„Έν• μ—λ¬ λ©”μ‹μ§€ λ° λ΅κΉ…
- [ ] Rate Limiting κµ¬ν„ (API Gateway μ—°λ™)
- [ ] μ¬μ‹λ„ λ΅μ§ (DynamoDB μ—°κ²° μ‹¤ν¨ μ‹)

---

## Phase 5: ν…μ¤νΈ λ° λ°°ν¬ μ¤€λΉ„ (18-24μ‹κ°„)

### Task 5.1: λ‹¨μ„ ν…μ¤νΈ μ‘μ„± (120λ¶„)
- [ ] `tests/` λ””λ ‰ν† λ¦¬ μƒμ„±
- [ ] `tests/test_models.py` - λ¨λΈ κ²€μ¦ ν…μ¤νΈ
- [ ] `tests/test_services.py` - DynamoDB μ„λΉ„μ¤ ν…μ¤νΈ
- [ ] `tests/test_handlers.py` - API μ—”λ“ν¬μΈνΈ ν…μ¤νΈ
- [ ] pytest μ‹¤ν–‰ λ° μ»¤λ²„λ¦¬μ§€ ν™•μΈ

### Task 5.2: λ΅μ»¬ ν…μ¤νΈ λ° κ²€μ¦ (90λ¶„)
- [ ] λ΅μ»¬ DynamoDB μ„¤μ • (DynamoDB Local)
- [ ] FastAPI κ°λ° μ„λ²„ μ‹¤ν–‰
- [ ] API μ—”λ“ν¬μΈνΈ μλ™ ν…μ¤νΈ (curl/Postman)
- [ ] μ‘λ‹µ ν•μ‹ λ° μ„±λ¥ ν™•μΈ

### Task 5.3: λ°°ν¬ μ¤€λΉ„ (90λ¶„)
- [ ] Lambda λ°°ν¬ ν¨ν‚¤μ§€ μƒμ„± μ¤ν¬λ¦½νΈ
- [ ] ν™κ²½λ³€μ μ„¤μ • λ¬Έμ„ν™”
- [ ] λ‹΄λ‹Ήμ Aμ™€ ν†µν•© ν…μ¤νΈ μ¤€λΉ„
- [ ] API λ¬Έμ„ μƒμ„± (FastAPI μλ™ λ¬Έμ„ν™”)

---

## μ°μ„ μμ„λ³„ Task λ¶„λ¥

### π”΄ ν•„μ (Core MVP) - 12μ‹κ°„
**λ©ν‘**: κΈ°λ³Έ λ™μ‘ν•λ” API μ™„μ„±
1. **Task 1.1-1.3**: ν”„λ΅μ νΈ μ„¤μ • (2μ‹κ°„)
2. **Task 2.1**: λ°μ΄ν„° λ¨λΈ (1.5μ‹κ°„)
3. **Task 2.2**: DynamoDB μ„λΉ„μ¤ κΈ°λ³Έ (2μ‹κ°„)
4. **Task 3.1**: μ΄λ²¤νΈ μμ§‘ API (2.5μ‹κ°„)
5. **Task 3.2**: μ‹¤μ‹κ°„ API κΈ°λ³Έ (2μ‹κ°„)
6. **Task 4.1**: FastAPI ν†µν•© (1.5μ‹κ°„)
7. **Task 5.2**: κΈ°λ³Έ ν…μ¤νΈ (0.5μ‹κ°„)

### π΅ μ¤‘μ” (Enhanced MVP) - 6μ‹κ°„
**λ©ν‘**: μ‹¤μ©μ μΈ λ¶„μ„ κΈ°λ¥ μ¶”κ°€
1. **Task 2.3**: μ ν‹Έλ¦¬ν‹° ν•¨μ (1μ‹κ°„)
2. **Task 3.3**: ν†µκ³„ API (2μ‹κ°„)
3. **Task 4.2**: μ„±λ¥ μµμ ν™” (2μ‹κ°„)
4. **Task 4.3**: μ—λ¬ μ²λ¦¬ (1μ‹κ°„)

### πΆ μ„ νƒ (Polish) - 6μ‹κ°„
**λ©ν‘**: ν’μ§ ν–¥μƒ λ° μ•μ •μ„±
1. **Task 5.1**: λ‹¨μ„ ν…μ¤νΈ (2μ‹κ°„)
2. **Task 5.3**: λ°°ν¬ μµμ ν™” (1.5μ‹κ°„)
3. **μ¶”κ°€ κΈ°λ¥**: κ³ κΈ‰ λ¶„μ„, μΊμ‹± κ°μ„  (2.5μ‹κ°„)

---

## μ²΄ν¬ν¬μΈνΈ λ° λ§μΌμ¤ν†¤

### π• 2μ‹κ°„ μ²΄ν¬ν¬μΈνΈ
- [ ] ν”„λ΅μ νΈ κµ¬μ΅° μ™„μ„±
- [ ] FastAPI κΈ°λ³Έ μ•± μ‹¤ν–‰ κ°€λ¥
- [ ] κΈ°λ³Έ λ¨λΈ μ •μ μ™„λ£

### π•• 6μ‹κ°„ μ²΄ν¬ν¬μΈνΈ  
- [ ] λ°μ΄ν„° λ¨λΈ λ° DynamoDB μ„λΉ„μ¤ μ™„μ„±
- [ ] μ΄λ²¤νΈ μμ§‘ API κΈ°λ³Έ λ™μ‘
- [ ] λ΅μ»¬ ν…μ¤νΈ ν™κ²½ κµ¬μ¶•

### π• 12μ‹κ°„ μ²΄ν¬ν¬μΈνΈ
- [ ] λ¨λ“  API μ—”λ“ν¬μΈνΈ κµ¬ν„ μ™„λ£
- [ ] μ‹¤μ‹κ°„ λ°μ΄ν„° μ΅°ν κ°€λ¥
- [ ] κΈ°λ³Έ μ—λ¬ μ²λ¦¬ κµ¬ν„

### π•’ 18μ‹κ°„ μ²΄ν¬ν¬μΈνΈ
- [ ] μ„±λ¥ μµμ ν™” μ™„λ£
- [ ] ν†µν•© ν…μ¤νΈ ν†µκ³Ό
- [ ] λ‹΄λ‹Ήμ Aμ™€ μ—°λ™ μ¤€λΉ„

### π•• 24μ‹κ°„ μµμΆ… μ²΄ν¬ν¬μΈνΈ
- [ ] μ „μ²΄ κΈ°λ¥ λ™μ‘ ν™•μΈ
- [ ] λ°°ν¬ ν¨ν‚¤μ§€ μ¤€λΉ„ μ™„λ£
- [ ] λ°λ¨ μ‹μ—° κ°€λ¥

---

## κ°λ° ν™κ²½ μ„¤μ •

### λ΅μ»¬ κ°λ° λ…λ Ήμ–΄
```bash
# κ°λ° μ„λ²„ μ‹¤ν–‰
cd src && uvicorn main:app --reload --port 8000

# ν…μ¤νΈ μ‹¤ν–‰
uv run pytest tests/ -v

# μ½”λ“ ν¬λ§·ν…
uv run black src/ tests/
uv run isort src/ tests/

# νƒ€μ… μ²΄ν¬
uv run mypy src/
```

### ν™κ²½λ³€μ μ„¤μ • (.env)
```bash
EVENTS_TABLE=liveinsight-events-dev
SESSIONS_TABLE=liveinsight-sessions-dev
AWS_REGION=us-east-1
API_KEY=dev-api-key-12345
ENVIRONMENT=dev
```

---

## μ„ν— μ”μ† λ° λ€μ‘ λ°©μ•

### π¨ κ³ μ„ν—
- **DynamoDB μ—°κ²° μ‹¤ν¨**: λ΅μ»¬ DynamoDB μ°μ„  κ°λ°, μ¬μ‹λ„ λ΅μ§ κµ¬ν„
- **Lambda μ½λ“ μ¤νƒ€νΈ**: κΈ€λ΅λ² λ³€μ ν™μ©, λ©”λ¨λ¦¬ μµμ ν™”
- **API μ„±λ¥ μ΄μ**: λ°°μΉ μ²λ¦¬, μΊμ‹±, μΏΌλ¦¬ μµμ ν™”

### β οΈ μ¤‘μ„ν—  
- **Pydantic κ²€μ¦ μ¤λ¥**: λ‹¨κ³„μ  κ²€μ¦ κ·μΉ™ μ¶”κ°€
- **HTMX νΈν™μ„±**: JSON μ°μ„  κ°λ° ν›„ HTML μ‘λ‹µ μ¶”κ°€
- **μ‹κ°„ λ¶€μ΅±**: ν•„μ κΈ°λ¥ μ°μ„ , μ„ νƒ κΈ°λ¥ μ μ™Έ

### β„ΉοΈ μ €μ„ν—
- **ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€**: ν•µμ‹¬ λ΅μ§ μ°μ„  ν…μ¤νΈ
- **λ¬Έμ„ν™”**: μ½”λ“ μ£Όμ„μΌλ΅ λ€μ²΄
- **λ³΄μ• κ°•ν™”**: κΈ°λ³Έ API Key μΈμ¦μΌλ΅ μ‹μ‘

---

## μ„±κ³µ κΈ°μ¤€

### μµμ† μ„±κ³µ κΈ°μ¤€ (12μ‹κ°„)
- [ ] μ΄λ²¤νΈ μμ§‘ API λ™μ‘
- [ ] μ‹¤μ‹κ°„ μ ‘μ†μ μ μ΅°ν κ°€λ¥
- [ ] DynamoDB λ°μ΄ν„° μ €μ¥/μ΅°ν μ •μƒ

### λ©ν‘ μ„±κ³µ κΈ°μ¤€ (18μ‹κ°„)
- [ ] λ¨λ“  API μ—”λ“ν¬μΈνΈ μ™„μ„±
- [ ] μ‹¤μ‹κ°„ λ€μ‹λ³΄λ“ λ°μ΄ν„° μ κ³µ
- [ ] κΈ°λ³Έ ν†µκ³„ λ° μ°¨νΈ λ°μ΄ν„° μ κ³µ

### μ΄μƒμ  μ„±κ³µ κΈ°μ¤€ (24μ‹κ°„)
- [ ] μ„±λ¥ μµμ ν™” μ™„λ£ (μ‘λ‹µμ‹κ°„ < 200ms)
- [ ] μ—λ¬ μ²λ¦¬ λ° λ΅κΉ… μ™„λΉ„
- [ ] λ‹¨μ„ ν…μ¤νΈ 80% μ΄μƒ μ»¤λ²„λ¦¬μ§€
- [ ] λ‹΄λ‹Ήμ Aμ™€ μ™„μ „ ν†µν•© μ™„λ£