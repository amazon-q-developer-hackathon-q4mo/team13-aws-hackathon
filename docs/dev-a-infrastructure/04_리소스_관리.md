# LiveInsight AWS 리소스 관리 문서

## 배포 정보
- **AWS 계정**: <YOUR_ACCOUNT_ID>
- **사용자**: <YOUR_IAM_USER>
- **리전**: us-east-1
- **환경**: dev
- **배포일**: <DEPLOYMENT_DATE>

## 생성된 리소스 목록

### DynamoDB 테이블
| 리소스명 | 타입 | 용도 | ARN |
|---------|------|------|-----|
| liveinsight-events-dev | DynamoDB Table | 이벤트 데이터 저장 | arn:aws:dynamodb:us-east-1:<ACCOUNT_ID>:table/liveinsight-events-dev |
| liveinsight-sessions-dev | DynamoDB Table | 세션 데이터 저장 | arn:aws:dynamodb:us-east-1:<ACCOUNT_ID>:table/liveinsight-sessions-dev |

### Lambda 함수
| 리소스명 | 타입 | 용도 | ARN |
|---------|------|------|-----|
| liveinsight-event-collector-dev | Lambda Function | 이벤트 수집 API | arn:aws:lambda:us-east-1:<ACCOUNT_ID>:function:liveinsight-event-collector-dev |
| liveinsight-realtime-api-dev | Lambda Function | 실시간 데이터 API | arn:aws:lambda:us-east-1:<ACCOUNT_ID>:function:liveinsight-realtime-api-dev |
| liveinsight-stats-api-dev | Lambda Function | 통계 데이터 API | arn:aws:lambda:us-east-1:<ACCOUNT_ID>:function:liveinsight-stats-api-dev |

### IAM 역할
| 리소스명 | 타입 | 용도 | ARN |
|---------|------|------|-----|
| liveinsight-lambda-role-dev | IAM Role | Lambda 실행 역할 | arn:aws:iam::<ACCOUNT_ID>:role/liveinsight-lambda-role-dev |

## 리소스 관리 명령어

### 배포
```bash
export AWS_PROFILE=<YOUR_PROFILE>
cd terraform
terraform apply -var="aws_region=us-east-1"
```

### 상태 확인
```bash
export AWS_PROFILE=<YOUR_PROFILE>
terraform show
```

### 리소스 삭제
```bash
export AWS_PROFILE=<YOUR_PROFILE>
cd terraform
terraform destroy -var="aws_region=us-east-1"
```

## 비용 관리
- **DynamoDB**: Pay-per-request 모드 (사용량 기반 과금)
- **Lambda**: 실행 시간 기반 과금
- **예상 월 비용**: 개발 환경 기준 $5-10

## 보안 설정
- Lambda 함수는 최소 권한 원칙 적용
- DynamoDB 테이블은 IAM 기반 접근 제어
- TTL 설정으로 데이터 자동 삭제

## 모니터링
- CloudWatch Logs: Lambda 함수 로그
- CloudWatch Metrics: DynamoDB 및 Lambda 메트릭
- 로그 그룹: `/aws/lambda/liveinsight-*-dev`

## 주의사항
- 리소스 삭제 시 데이터 백업 필요
- 프로덕션 배포 전 환경 변수 변경 필요
- 리전 변경 시 모든 리소스 재생성 필요