# LiveInsight í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## ğŸ“‹ í…ŒìŠ¤íŠ¸ ê°œìš”

LiveInsight ì‹œìŠ¤í…œì˜ ëª¨ë“  êµ¬ì„± ìš”ì†Œë¥¼ ê²€ì¦í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ§ª ìë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

### ì „ì²´ í…ŒìŠ¤íŠ¸
```bash
# ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./scripts/run-tests.sh

# ë°°í¬ ê²€ì¦ í…ŒìŠ¤íŠ¸
./scripts/test.sh deployment
```

### ê°œë³„ í…ŒìŠ¤íŠ¸
```bash
# í†µí•© í…ŒìŠ¤íŠ¸
./scripts/run-tests.sh integration

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
./scripts/run-tests.sh performance

# E2E í…ŒìŠ¤íŠ¸
./scripts/run-tests.sh e2e
```

## ğŸ” ìˆ˜ë™ ê²€ì¦

### 1. ì¸í”„ë¼ ìƒíƒœ í™•ì¸
```bash
# DynamoDB í…Œì´ë¸” í™•ì¸
aws dynamodb list-tables --query 'TableNames[?contains(@, `LiveInsight`)]'

# Lambda í•¨ìˆ˜ í™•ì¸
aws lambda get-function --function-name LiveInsight-EventCollector

# ECS ì„œë¹„ìŠ¤ í™•ì¸
aws ecs describe-services --cluster LiveInsight-cluster --services LiveInsight-service
```

### 2. API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
```bash
# API Gateway í…ŒìŠ¤íŠ¸
API_URL=$(cd infrastructure && terraform output -raw api_gateway_url)
curl -X POST "$API_URL/events" \
  -H "Content-Type: application/json" \
  -d '{"event_type": "page_view", "page_url": "/test", "user_id": "test-user"}'

# Django API í…ŒìŠ¤íŠ¸
ALB_DNS=$(cd infrastructure && terraform output -raw web_app_url | sed 's|http://||')
curl "http://$ALB_DNS/api/sessions/active/"
```

### 3. í—¬ìŠ¤ì²´í¬
```bash
# Django ì• í”Œë¦¬ì¼€ì´ì…˜ í—¬ìŠ¤ì²´í¬
curl "http://$ALB_DNS/health/"

# ì‘ë‹µ ì‹œê°„ ì¸¡ì •
curl -w "Time: %{time_total}s\n" "http://$ALB_DNS/api/sessions/active/"
```

## ğŸ“Š ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

### ë¶€í•˜ í…ŒìŠ¤íŠ¸
```bash
# ê°„ë‹¨í•œ ë¶€í•˜ í…ŒìŠ¤íŠ¸
for i in {1..10}; do
  curl -X POST "$API_URL/events" \
    -H "Content-Type: application/json" \
    -d "{\"event_type\": \"test\", \"user_id\": \"user_$i\"}" &
done
wait
```

### ìºì‹œ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
```bash
# ì²« ë²ˆì§¸ ìš”ì²­ (ìºì‹œ ì—†ìŒ)
time curl -s "http://$ALB_DNS/api/sessions/active/" > /dev/null

# ë‘ ë²ˆì§¸ ìš”ì²­ (ìºì‹œ ì‚¬ìš©)
time curl -s "http://$ALB_DNS/api/sessions/active/" > /dev/null
```

## ğŸ”§ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### E-commerce ì‹œë‚˜ë¦¬ì˜¤
```bash
# ìƒí’ˆ í˜ì´ì§€ ì¡°íšŒ
curl -X POST "$API_URL/events" \
  -H "Content-Type: application/json" \
  -d '{
    "event_type": "page_view",
    "page_url": "/product/123",
    "user_id": "customer_001"
  }'

# ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€
curl -X POST "$API_URL/events" \
  -H "Content-Type: application/json" \
  -d '{
    "event_type": "add_to_cart",
    "page_url": "/product/123",
    "user_id": "customer_001",
    "product_id": "123"
  }'
```

## ğŸš¨ ë¬¸ì œ í•´ê²°

### í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ ì‹œ í™•ì¸ì‚¬í•­
1. **ì¸í”„ë¼ ë°°í¬ ìƒíƒœ**: `terraform output`ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ í™•ì¸
2. **ì„œë¹„ìŠ¤ ìƒíƒœ**: ECS ì„œë¹„ìŠ¤ì™€ Lambda í•¨ìˆ˜ ìƒíƒœ í™•ì¸
3. **ë¡œê·¸ í™•ì¸**: CloudWatch ë¡œê·¸ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
4. **ë„¤íŠ¸ì›Œí¬**: ë³´ì•ˆ ê·¸ë£¹ê³¼ ë¼ìš°íŒ… í…Œì´ë¸” í™•ì¸

### ë¡œê·¸ í™•ì¸
```bash
# Lambda ë¡œê·¸
aws logs filter-log-events --log-group-name /aws/lambda/LiveInsight-EventCollector

# ECS ë¡œê·¸
aws logs filter-log-events --log-group-name /ecs/LiveInsight

# Django ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
aws ecs describe-tasks --cluster LiveInsight-cluster --tasks $(aws ecs list-tasks --cluster LiveInsight-cluster --service-name LiveInsight-service --query 'taskArns[0]' --output text)
```

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§ í™•ì¸

### CloudWatch ë©”íŠ¸ë¦­
```bash
# Lambda ë©”íŠ¸ë¦­ í™•ì¸
aws cloudwatch get-metric-statistics \
  --namespace AWS/Lambda \
  --metric-name Duration \
  --dimensions Name=FunctionName,Value=LiveInsight-EventCollector \
  --start-time $(date -u -d '1 hour ago' +%Y-%m-%dT%H:%M:%S) \
  --end-time $(date -u +%Y-%m-%dT%H:%M:%S) \
  --period 300 \
  --statistics Average

# ECS ë©”íŠ¸ë¦­ í™•ì¸
aws cloudwatch get-metric-statistics \
  --namespace AWS/ECS \
  --metric-name CPUUtilization \
  --dimensions Name=ServiceName,Value=LiveInsight-service Name=ClusterName,Value=LiveInsight-cluster \
  --start-time $(date -u -d '1 hour ago' +%Y-%m-%dT%H:%M:%S) \
  --end-time $(date -u +%Y-%m-%dT%H:%M:%S) \
  --period 300 \
  --statistics Average
```

### ëŒ€ì‹œë³´ë“œ í™•ì¸
- **CloudWatch ëŒ€ì‹œë³´ë“œ**: AWS ì½˜ì†”ì—ì„œ LiveInsight ëŒ€ì‹œë³´ë“œ í™•ì¸
- **X-Ray ì„œë¹„ìŠ¤ ë§µ**: ë¶„ì‚° íŠ¸ë ˆì´ì‹± ìƒíƒœ í™•ì¸
- **ECS ì„œë¹„ìŠ¤ ìƒíƒœ**: íƒœìŠ¤í¬ ì‹¤í–‰ ìƒíƒœ ë° í—¬ìŠ¤ì²´í¬ í™•ì¸