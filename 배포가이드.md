# LiveInsight ë°°í¬ ê°€ì´ë“œ

## ğŸ“‹ ë°°í¬ ê°œìš”

LiveInsightëŠ” AWS ì„œë²„ë¦¬ìŠ¤ ì•„í‚¤í…ì²˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ì‹¤ì‹œê°„ ì›¹ì‚¬ì´íŠ¸ ì‚¬ìš©ì í–‰ë™ ë¶„ì„ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ì´ ê°€ì´ë“œëŠ” ì „ì²´ ì¸í”„ë¼ë¥¼ ì²˜ìŒë¶€í„° ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì›¹ì‚¬ì´íŠ¸   â”‚â”€â”€â”€â–¶â”‚ API Gateway  â”‚â”€â”€â”€â–¶â”‚   Lambda    â”‚â”€â”€â”€â–¶â”‚  DynamoDB    â”‚
â”‚ (JS ì¶”ì )   â”‚    â”‚              â”‚    â”‚ EventCollectorâ”‚    â”‚   Tables     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                    â”‚                   â”‚
                           â”‚                    â–¼                   â”‚
                           â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
                           â”‚            â”‚ CloudWatch  â”‚             â”‚
                           â”‚            â”‚ Monitoring  â”‚             â”‚
                           â”‚            â”‚ + X-Ray     â”‚             â”‚
                           â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
                           â”‚                                        â”‚
                           â–¼                                        â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ Django API   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ ActiveSessionsâ”‚
                   â”‚ (ECS Fargate)â”‚                        â”‚   (TTL 30ë¶„)  â”‚
                   â”‚ + ìºì‹œ ìµœì í™” â”‚                        â”‚              â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚     ALB      â”‚
                   â”‚ (Load Balancer)â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ ì‚¬ì „ ìš”êµ¬ì‚¬í•­

### í•„ìˆ˜ ë„êµ¬
- **AWS CLI** (v2.0+) - ì„¤ì • ì™„ë£Œ í•„ìˆ˜
- **Terraform** (v1.0+) - ì¸í”„ë¼ ë°°í¬ìš©
- **Docker** (20.0+) - ì´ë¯¸ì§€ ë¹Œë“œìš©
- **Python** (3.11+) - Django ì• í”Œë¦¬ì¼€ì´ì…˜
- **curl** - API í…ŒìŠ¤íŠ¸ìš©

### AWS ê¶Œí•œ
ë‹¤ìŒ AWS ì„œë¹„ìŠ¤ì— ëŒ€í•œ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤:
- **DynamoDB** (í…Œì´ë¸” ìƒì„±/ê´€ë¦¬)
- **Lambda** (í•¨ìˆ˜ ìƒì„±/ê´€ë¦¬)
- **API Gateway** (REST API ìƒì„±/ê´€ë¦¬)
- **ECS** (í´ëŸ¬ìŠ¤í„°/ì„œë¹„ìŠ¤ ìƒì„±/ê´€ë¦¬)
- **ECR** (ë¦¬í¬ì§€í† ë¦¬ ìƒì„±/ê´€ë¦¬)
- **VPC** (ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤ ìƒì„±/ê´€ë¦¬)
- **ALB** (ë¡œë“œë°¸ëŸ°ì„œ ìƒì„±/ê´€ë¦¬)
- **IAM** (ì—­í• /ì •ì±… ìƒì„±/ê´€ë¦¬)
- **CloudWatch** (ë©”íŠ¸ë¦­/ì•ŒëŒ/ëŒ€ì‹œë³´ë“œ ìƒì„±/ê´€ë¦¬)
- **X-Ray** (íŠ¸ë ˆì´ì‹± ì„¤ì •)

## ğŸš€ ë°°í¬ ë‹¨ê³„

### 1ë‹¨ê³„: í™˜ê²½ ì¤€ë¹„

```bash
# í˜„ì¬ ë””ë ‰í† ë¦¬ í™•ì¸
pwd

# AWS CLI ì„¤ì • í™•ì¸
aws configure list
aws sts get-caller-identity

# ë¦¬ì „ ì„¤ì • í™•ì¸
echo $AWS_DEFAULT_REGION
```

### 2ë‹¨ê³„: Phase 1-5 (ì„œë²„ë¦¬ìŠ¤ ì¸í”„ë¼) ë°°í¬

```bash
cd infrastructure

# Terraform ì´ˆê¸°í™”
terraform init

# ë°°í¬ ê³„íš í™•ì¸
terraform plan

# Phase 1-5 ì¸í”„ë¼ ë°°í¬
terraform apply -auto-approve
```

### 3ë‹¨ê³„: Django ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ë°°í¬

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ë¡œ ì´ë™
cd ..

# Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° ECR í‘¸ì‹œ
bash scripts/build.sh

# ECS ì„œë¹„ìŠ¤ ê°•ì œ ì—…ë°ì´íŠ¸
aws ecs update-service --cluster LiveInsight-cluster --service LiveInsight-service --force-new-deployment --region us-east-1
```

### 4ë‹¨ê³„: Phase 7 (ê³ ê¸‰ ëª¨ë‹ˆí„°ë§) ë°°í¬

```bash
# infrastructure ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd infrastructure

# ëª¨ë‹ˆí„°ë§ ëª¨ë“ˆ ì´ˆê¸°í™” ë° ë°°í¬
terraform init
terraform apply -auto-approve
```

### 5ë‹¨ê³„: ë°°í¬ ê²€ì¦

#### ê¸°ë³¸ ê²€ì¦
```bash
# ì „ì²´ ë¦¬ì†ŒìŠ¤ ìƒíƒœ í™•ì¸
cd infrastructure
terraform output

# ECS ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
aws ecs describe-services --cluster LiveInsight-cluster --services LiveInsight-service --query 'services[0].{Name:serviceName,Status:status,Running:runningCount,Desired:desiredCount}' --output table

# DynamoDB í…Œì´ë¸” í™•ì¸
aws dynamodb list-tables --query 'TableNames[?contains(@, `LiveInsight`)]' --output table
```

#### ì• í”Œë¦¬ì¼€ì´ì…˜ í—¬ìŠ¤ì²´í¬
```bash
# ALB DNS ì´ë¦„ í™•ì¸
ALB_DNS="LiveInsight-alb-552300943.us-east-1.elb.amazonaws.com"

# Django ì• í”Œë¦¬ì¼€ì´ì…˜ í—¬ìŠ¤ì²´í¬ (ì„œë¹„ìŠ¤ ì‹œì‘ í›„)
curl -f "http://$ALB_DNS/health/" || echo "Service starting - wait a few minutes"

# API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
curl "http://$ALB_DNS/api/sessions/active/"
```

## ğŸ“Š ë°°í¬ëœ ë¦¬ì†ŒìŠ¤

### Phase 1-5: ì„œë²„ë¦¬ìŠ¤ ì¸í”„ë¼ (ì™„ë£Œ)

**DynamoDB í…Œì´ë¸” (3ê°œ)**
- LiveInsight-Events: ì´ë²¤íŠ¸ ë°ì´í„° ì €ì¥
- LiveInsight-Sessions: ì„¸ì…˜ ë°ì´í„° ì €ì¥  
- LiveInsight-ActiveSessions: í™œì„± ì„¸ì…˜ (TTL 30ë¶„)

**Lambda í•¨ìˆ˜ (1ê°œ)**
- LiveInsight-EventCollector: ì´ë²¤íŠ¸ ìˆ˜ì§‘ ë° ì²˜ë¦¬

**API Gateway (1ê°œ)**
- LiveInsight-API: REST API (/events ì—”ë“œí¬ì¸íŠ¸)

### Phase 6: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ (ì™„ë£Œ)

**ECS Fargate**
- Cluster: LiveInsight-cluster
- Service: LiveInsight-service
- Task Definition: Django ì• í”Œë¦¬ì¼€ì´ì…˜
- Auto Scaling: 1-4 tasks (CPU 70% ì„ê³„ê°’)

**ë„¤íŠ¸ì›Œí‚¹**
- VPC: 10.0.0.0/16
- Public Subnets: 2ê°œ (ALBìš©)
- Private Subnets: 2ê°œ (ECSìš©)
- NAT Gateway: 2ê°œ
- ALB: LiveInsight-alb

**ì»¨í…Œì´ë„ˆ ë ˆì§€ìŠ¤íŠ¸ë¦¬**
- ECR Repository: liveinsight-app
- Docker ì´ë¯¸ì§€: ë¹Œë“œ ë° í‘¸ì‹œ ì™„ë£Œ

### Phase 7: ê³ ê¸‰ ëª¨ë‹ˆí„°ë§ (ì™„ë£Œ)

**CloudWatch ê³ ê¸‰ ëª¨ë‹ˆí„°ë§**
- ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­ ëŒ€ì‹œë³´ë“œ
- ê³ ê¸‰ ì•ŒëŒ 8ê°œ (API ì˜¤ë¥˜ìœ¨, ì‘ë‹µì‹œê°„, Lambda ì§€ì†ì‹œê°„ ë“±)
- ì»¤ìŠ¤í…€ ë¡œê·¸ ë©”íŠ¸ë¦­ í•„í„°

**X-Ray íŠ¸ë ˆì´ì‹±**
- ìƒ˜í”Œë§ ë¹„ìœ¨: 10%
- ì„œë¹„ìŠ¤ ë§µ í™œì„±í™”

## ğŸ”§ í™˜ê²½ë³„ ë°°í¬

### Phase 7 ì„±ëŠ¥ ìµœì í™” ì„¤ì •

### ê°œë°œ í™˜ê²½
```bash
# ê°œë°œìš© ë³€ìˆ˜ ì„¤ì •
cat > terraform.tfvars << EOF
aws_region = "us-east-1"
environment = "development"
project_name = "LiveInsight-Dev"
# Phase 7 ìµœì í™” ì„¤ì •
cache_enabled = true
monitoring_level = "basic"
EOF

# ê°œë°œ í™˜ê²½ ë°°í¬
./scripts/deploy.sh

# ê°œë°œ ì„œë²„ ì‹¤í–‰ (ë¡œì»¬)
./scripts/dev.sh native
```

### í”„ë¡œë•ì…˜ í™˜ê²½
```bash
# í”„ë¡œë•ì…˜ìš© ë³€ìˆ˜ ì„¤ì •
cat > terraform.tfvars << EOF
aws_region = "us-east-1"
environment = "production"
project_name = "LiveInsight"
# Phase 7 ìµœì í™” ì„¤ì •
cache_enabled = true
monitoring_level = "advanced"
x_ray_tracing = true
auto_scaling_enabled = true
EOF

# ë¸”ë£¨-ê·¸ë¦° ë°°í¬ (í”„ë¡œë•ì…˜ ê¶Œì¥)
./scripts/blue-green-deploy.sh

# Phase 8 í”„ë¡œë•ì…˜ ë³´ì•ˆ ë°°í¬
./scripts/deploy-phase8.sh prod liveinsight-demo.com
```

## ğŸ“ ë°°í¬ í›„ ì„¤ì •

### 1. ì„œë¹„ìŠ¤ URL í™•ì¸
```bash
# ì „ì²´ ì¶œë ¥ í™•ì¸
cd infrastructure
terraform output

# ì£¼ìš” URL
echo "=== LiveInsight ì„œë¹„ìŠ¤ URL ==="
echo "ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜: http://LiveInsight-alb-552300943.us-east-1.elb.amazonaws.com"
echo "API Gateway: https://qnwoi1ardd.execute-api.us-east-1.amazonaws.com/prod"
```

### 2. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
```bash
# CloudWatch ëŒ€ì‹œë³´ë“œ URL
echo "=== ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ==="
echo "ECS ëŒ€ì‹œë³´ë“œ: https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#dashboards:name=LiveInsight-dashboard"
echo "ë¹„ì¦ˆë‹ˆìŠ¤ ëŒ€ì‹œë³´ë“œ: https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#dashboards:name=LiveInsight-BusinessMetrics"
echo "X-Ray ì„œë¹„ìŠ¤ ë§µ: https://console.aws.amazon.com/xray/home?region=us-east-1#/service-map"
```

### 3. ë¦¬ì†ŒìŠ¤ ì •ë³´
```bash
# DynamoDB í…Œì´ë¸”
echo "=== DynamoDB í…Œì´ë¸” ==="
echo "Events Table: LiveInsight-Events"
echo "Sessions Table: LiveInsight-Sessions"
echo "ActiveSessions Table: LiveInsight-ActiveSessions"

# ECS ì„œë¹„ìŠ¤
echo "=== ECS ì„œë¹„ìŠ¤ ==="
echo "Cluster: LiveInsight-cluster"
echo "Service: LiveInsight-service"
echo "ECR Repository: liveinsight-app"
```

## ğŸ§ª ë°°í¬ ê²€ì¦

### Phase 7 í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬
chmod +x scripts/*.sh

# ì „ì²´ í†µí•© í…ŒìŠ¤íŠ¸
./scripts/run-tests.sh all

# E2E í…ŒìŠ¤íŠ¸
./scripts/run-tests.sh e2e

# ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
./scripts/run-tests.sh performance

# ë¡œì»¬ Django í…ŒìŠ¤íŠ¸
./scripts/test.sh local

# ë°°í¬ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸
./scripts/test.sh deployment
```

### ìˆ˜ë™ ê²€ì¦
```bash
# 1. DynamoDB í…Œì´ë¸” ìƒíƒœ í™•ì¸
aws dynamodb list-tables --query 'TableNames[?contains(@, `LiveInsight`)]' --output table

# 2. Lambda í•¨ìˆ˜ ìƒíƒœ í™•ì¸
aws lambda get-function --function-name LiveInsight-EventCollector --query 'Configuration.{Name:FunctionName,Runtime:Runtime,State:State}' --output table

# 3. ECS ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
aws ecs describe-services --cluster LiveInsight-cluster --services LiveInsight-service --query 'services[0].{Name:serviceName,Status:status,Running:runningCount,Desired:desiredCount}' --output table

# 4. ALB í—¬ìŠ¤ì²´í¬ í™•ì¸
ALB_DNS="LiveInsight-alb-552300943.us-east-1.elb.amazonaws.com"
curl -f "http://$ALB_DNS/health/" || echo "Service may still be starting"

# 5. API Gateway í…ŒìŠ¤íŠ¸
curl "https://qnwoi1ardd.execute-api.us-east-1.amazonaws.com/prod/events" -X POST -H "Content-Type: application/json" -d '{"test": "data"}'

# 6. CloudWatch ë©”íŠ¸ë¦­ í™•ì¸
aws cloudwatch list-metrics --namespace "LiveInsight/Lambda" --output table
aws cloudwatch list-metrics --namespace "AWS/ECS" --dimensions Name=ServiceName,Value=LiveInsight-service --output table
```eInsight
aws cloudwatch list-metrics --namespace AWS/ECS
aws cloudwatch list-metrics --namespace AWS/ApplicationELB

# 8. X-Ray íŠ¸ë ˆì´ìŠ¤ í™•ì¸
aws xray get-service-graph --start-time $(date -d '1 hour ago' +%s) --end-time $(date +%s)
```

## ğŸ”„ ì—…ë°ì´íŠ¸ ë° ì¬ë°°í¬

### Django ì• í”Œë¦¬ì¼€ì´ì…˜ ì—…ë°ì´íŠ¸
```bash
# ì¼ë°˜ ë°°í¬
./scripts/deploy.sh

# ë¸”ë£¨-ê·¸ë¦° ë°°í¬ (ë¬´ì¤‘ë‹¨)
./scripts/blue-green-deploy.sh

# íŠ¹ì • ì´ë¯¸ì§€ íƒœê·¸ë¡œ ë°°í¬
./scripts/blue-green-deploy.sh v1.2.0
```

### Lambda í•¨ìˆ˜ ì½”ë“œ ì—…ë°ì´íŠ¸
```bash
# Lambda í•¨ìˆ˜ ì½”ë“œë§Œ ì—…ë°ì´íŠ¸
cd infrastructure
zip -f lambda_function.zip lambda_function.py
aws lambda update-function-code \
  --function-name LiveInsight-EventCollector \
  --zip-file fileb://lambda_function.zip
```

### ì¸í”„ë¼ ì—…ë°ì´íŠ¸
```bash
# Terraformìœ¼ë¡œ ì¸í”„ë¼ ì—…ë°ì´íŠ¸
terraform plan
terraform apply
```

### ë¡¤ë°±
```bash
# ECS ì„œë¹„ìŠ¤ ë¡¤ë°± (ìë™)
./scripts/rollback.sh

# Lambda í•¨ìˆ˜ ë¡¤ë°±
cd infrastructure
chmod +x rollback.sh
./rollback.sh

# Terraformìœ¼ë¡œ íŠ¹ì • ë¦¬ì†ŒìŠ¤ ë¡¤ë°±
terraform apply -target=aws_lambda_function.event_collector
terraform apply -target=aws_ecs_service.app
```

## ğŸ—‘ï¸ ë¦¬ì†ŒìŠ¤ ì‚­ì œ

### ì „ì²´ ì‚­ì œ
```bash
# Terraformìœ¼ë¡œ ëª¨ë“  ë¦¬ì†ŒìŠ¤ ì‚­ì œ
terraform destroy -auto-approve

# í™•ì¸
aws dynamodb list-tables --query 'TableNames[?contains(@, `LiveInsight`)]'
```

### ì„ íƒì  ì‚­ì œ
```bash
# íŠ¹ì • ë¦¬ì†ŒìŠ¤ë§Œ ì‚­ì œ
terraform destroy -target=aws_dynamodb_table.events
terraform destroy -target=aws_lambda_function.event_collector
```

## ğŸ’° ë¹„ìš© ìµœì í™”

### ì˜ˆìƒ ë¹„ìš© (ì›”ê°„) - Phase 1-9 ì „ì²´
```
Phase 1-5: DynamoDB ì¸í”„ë¼
â”œâ”€â”€ DynamoDB (í”„ë¡œë¹„ì €ë‹ ëª¨ë“œ): ~$12
â”œâ”€â”€ Lambda (100ë§Œ ìš”ì²­): ~$2.20
â””â”€â”€ API Gateway (100ë§Œ ìš”ì²­): ~$3.50
ì†Œê³„: ~$28.50/ì›”

Phase 6: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸í”„ë¼
â”œâ”€â”€ ECS Fargate (1 íƒœìŠ¤í¬): ~$15
â”œâ”€â”€ ALB: ~$20
â”œâ”€â”€ NAT Gateway (2ê°œ): ~$32
â”œâ”€â”€ ECR ìŠ¤í† ë¦¬ì§€: ~$2
â””â”€â”€ ê¸°ë³¸ CloudWatch: ~$5
ì†Œê³„: ~$42.00/ì›”

Phase 7: ê³ ê¸‰ ëª¨ë‹ˆí„°ë§
â”œâ”€â”€ ê³ ê¸‰ CloudWatch ë©”íŠ¸ë¦­: ~$10
â”œâ”€â”€ X-Ray íŠ¸ë ˆì´ì‹±: ~$5
â””â”€â”€ ì¶”ê°€ ë¡œê·¸ ìŠ¤í† ë¦¬ì§€: ~$3
ì†Œê³„: ~$18.33/ì›”

Phase 8: í”„ë¡œë•ì…˜ ë³´ì•ˆ ë° ë„ë©”ì¸
â”œâ”€â”€ Route 53 (DNS + í—¬ìŠ¤ì²´í¬): ~$1.40
â”œâ”€â”€ CloudFront CDN (1TB): ~$9.75
â”œâ”€â”€ WAF ë³´ì•ˆ: ~$2.10
â”œâ”€â”€ S3 ì •ì  ìì‚°: ~$1.53
â”œâ”€â”€ GuardDuty ìœ„í˜‘ íƒì§€: ~$3.00
â””â”€â”€ KMS + Parameter Store: ~$1.05
ì†Œê³„: ~$25.50/ì›”

Phase 9: ë°±ì—… ë° ì¬í•´ë³µêµ¬
â”œâ”€â”€ DynamoDB PITR: ~$8.50
â”œâ”€â”€ ë°±ì—… ìŠ¤í† ë¦¬ì§€ (S3): ~$4.20
â”œâ”€â”€ Lambda ì‹¤í–‰ ë¹„ìš©: ~$2.80
â”œâ”€â”€ ê³ ê¸‰ ëª¨ë‹ˆí„°ë§: ~$6.30
â”œâ”€â”€ CloudWatch ëŒ€ì‹œë³´ë“œ: ~$3.00
â””â”€â”€ EventBridge ìŠ¤ì¼€ì¤„: ~$1.20
ì†Œê³„: ~$26.00/ì›”

ì´ ì˜ˆìƒ ë¹„ìš©: ~$140.33/ì›” (ì „ì²´ ì‹œìŠ¤í…œ Phase 1-9)
```

### ë¹„ìš© ì ˆì•½ ë°©ë²•
```bash
# DynamoDB On-Demand ëª¨ë“œë¡œ ë³€ê²½
terraform apply -var="billing_mode=PAY_PER_REQUEST"

# ECS íƒœìŠ¤í¬ ìˆ˜ ì¡°ì • (ê°œë°œ í™˜ê²½)
terraform apply -var="ecs_desired_count=1"

# NAT Gateway 1ê°œë¡œ ì¶•ì†Œ (ê°œë°œ í™˜ê²½)
terraform apply -var="nat_gateway_count=1"

# CloudWatch ë¡œê·¸ ë³´ì¡´ ê¸°ê°„ ë‹¨ì¶•
terraform apply -var="log_retention_days=7"

# X-Ray ìƒ˜í”Œë§ ë¹„ìœ¨ ì¡°ì •
terraform apply -var="xray_sampling_rate=0.05"
```

## ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. Terraform ì´ˆê¸°í™” ì‹¤íŒ¨
```bash
# í•´ê²°ë°©ë²•
rm -rf .terraform
terraform init
```

#### 2. IAM ê¶Œí•œ ë¶€ì¡±
```bash
# í•„ìš”í•œ ê¶Œí•œ í™•ì¸
aws iam simulate-principal-policy \
  --policy-source-arn $(aws sts get-caller-identity --query Arn --output text) \
  --action-names dynamodb:CreateTable lambda:CreateFunction
```

#### 3. Lambda ë°°í¬ ì‹¤íŒ¨
```bash
# ë¡œê·¸ í™•ì¸
aws logs describe-log-groups --log-group-name-prefix /aws/lambda/LiveInsight

# í•¨ìˆ˜ ìƒíƒœ í™•ì¸
aws lambda get-function --function-name LiveInsight-EventCollector
```

#### 4. ECS ì„œë¹„ìŠ¤ ì‹œì‘ ì‹¤íŒ¨
```bash
# ECS ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
aws ecs describe-services --cluster liveinsight-cluster --services liveinsight-service

# íƒœìŠ¤í¬ ë¡œê·¸ í™•ì¸
aws logs filter-log-events \
  --log-group-name /ecs/liveinsight \
  --start-time $(date -d '1 hour ago' +%s)000
```

#### 5. ALB í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨
```bash
# íƒ€ê²Ÿ ê·¸ë£¹ ìƒíƒœ í™•ì¸
aws elbv2 describe-target-health --target-group-arn $(cd infrastructure/web-app && terraform output -raw target_group_arn)

# Django í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
curl -v "http://$(cd infrastructure/web-app && terraform output -raw alb_dns_name)/health/"
```

#### 6. ìºì‹œ ì„±ëŠ¥ ë¬¸ì œ
```bash
# Django ìºì‹œ ìƒíƒœ í™•ì¸
cd src
python manage.py shell -c "from django.core.cache import cache; print(cache.get('active_sessions'))"

# ìºì‹œ í†µê³„ í™•ì¸
curl "http://$(cd ../infrastructure/web-app && terraform output -raw alb_dns_name)/api/sessions/active/" -w "Time: %{time_total}s\n"
```

#### 7. API Gateway 5xx ì—ëŸ¬
```bash
# Lambda ë¡œê·¸ í™•ì¸
aws logs filter-log-events \
  --log-group-name /aws/lambda/LiveInsight-EventCollector \
  --start-time $(date -d '1 hour ago' +%s)000

# X-Ray íŠ¸ë ˆì´ìŠ¤ í™•ì¸
aws xray get-trace-summaries \
  --time-range-type TimeRangeByStartTime \
  --start-time $(date -d '1 hour ago' +%s) \
  --end-time $(date +%s)
```

## ğŸ“ ì§€ì› ë° ë¬¸ì˜

### ë¬¸ì„œ ì°¸ì¡°
- [AWS Lambda ê°œë°œì ê°€ì´ë“œ](https://docs.aws.amazon.com/lambda/)
- [Amazon DynamoDB ê°œë°œì ê°€ì´ë“œ](https://docs.aws.amazon.com/dynamodb/)
- [Amazon API Gateway ê°œë°œì ê°€ì´ë“œ](https://docs.aws.amazon.com/apigateway/)

### ë¡œê·¸ ë° ëª¨ë‹ˆí„°ë§
- **CloudWatch ë¡œê·¸**: `/aws/lambda/LiveInsight-EventCollector`
- **CloudWatch ë©”íŠ¸ë¦­**: `LiveInsight` ë„¤ì„ìŠ¤í˜ì´ìŠ¤
- **X-Ray íŠ¸ë ˆì´ì‹±**: Lambda í•¨ìˆ˜ì—ì„œ í™œì„±í™”ë¨

ì´ ë°°í¬ ê°€ì´ë“œë¥¼ ë”°ë¼í•˜ë©´ LiveInsight ì¸í”„ë¼ë¥¼ ì„±ê³µì ìœ¼ë¡œ ë°°í¬í•˜ê³  ìš´ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.